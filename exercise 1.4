#include "sam.h"

#define LED_PIN 20    // D6 → PA20 on MKR1010
#define INPUT_PIN 10  // D2 → PA10
#define NEW_LED_PIN 10 // D4 → PB10 on MKR1010

void setup() {
  // Enable the APB clock for the PORT module
  PM->APBBMASK.reg |= PM_APBBMASK_PORT;
  
  // Configure LED_PIN as OUTPUT (set bit in DIRSET) - Port A
  PORT->Group[0].DIRSET.reg = (1 << LED_PIN);
  
  // Configure INPUT_PIN as INPUT (clear bit in DIRCLR) - Port A
  PORT->Group[0].DIRCLR.reg = (1 << INPUT_PIN);
  
  // Configure NEW_LED_PIN as OUTPUT - Port B (Group[1])
  PORT->Group[1].DIRSET.reg = (1 << NEW_LED_PIN);
}
void loop() {
  PORT->Group[0].OUTSET.reg = (1 << LED_PIN);      // PA20 ON
  PORT->Group[1].OUTSET.reg = (1 << NEW_LED_PIN);  // PB10 ON
  delay(1000);

  PORT->Group[0].OUTCLR.reg = (1 << LED_PIN);      // PA20 OFF
  PORT->Group[1].OUTCLR.reg = (1 << NEW_LED_PIN);  // PB10 OFF
  delay(1000);
}
